{"remainingRequest":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thossaporn/Downloads/game/admin-web/src/components/pages/profile/addprofile/addprofile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/thossaporn/Downloads/game/admin-web/src/components/pages/profile/addprofile/addprofile.vue","mtime":1627898894350},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/cache-loader/dist/cjs.js","mtime":1661273170805},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/babel-loader/lib/index.js","mtime":1661273171333},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/cache-loader/dist/cjs.js","mtime":1661273170805},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js","mtime":1661273161751}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHsgYmFzZVVSTCB9IGZyb20gIi4uLy4uLy4uLy4uL3NlcnZpY2VzL2FwaSI7DQppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9Vc2VyU2VydmljZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybTogew0KICAgICAgICBwcmVmaXg6ICIiLA0KICAgICAgICBpbmZvX25hbWU6ICIiLA0KICAgICAgICB1c2VybmFtZTogIiIsDQogICAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgICAgcm9sZTogIiIsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5jaGVja0F1dGgoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGNoZWNrQXV0aCgpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IFVzZXJTZXJ2aWNlLmdldFByb2ZpbGUoKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsNCiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxIHx8IGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7DQogICAgICAgICAgY29uc3QgcmVtb3ZlVG9rZW4gPSBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWNjZXNzX3Rva2VuIik7DQogICAgICAgICAgaWYgKHJlbW92ZVRva2VuID09IG51bGwpIHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgcmVzLmxvZ291dDsNCiAgICB9LA0KICAgIGFzeW5jIHN1Ym1pdEZvcm0oKSB7DQogICAgICBheGlvcw0KICAgICAgICAucG9zdChiYXNlVVJMICsgIi91c2VyIiwgdGhpcy5mb3JtLCB7DQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwNCiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKSwNCiAgICAgICAgICB9LA0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgKHRoaXMuZm9ybS5wcmVmaXggPSAiIiksDQogICAgICAgICAgICAodGhpcy5mb3JtLmluZm9fbmFtZSA9ICIiKSwNCiAgICAgICAgICAgICh0aGlzLmZvcm0udXNlcm5hbWUgPSAiIiksDQogICAgICAgICAgICAodGhpcy5mb3JtLnBhc3N3b3JkID0gIiIpLA0KICAgICAgICAgICAgKHRoaXMuZm9ybS5yb2xlID0gIiIpLA0KICAgICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2Vzcygi4Liq4Lih4Lix4LiE4Lij4LmA4Lij4Li14Lii4Lia4Lij4LmJ4Lit4Lii4LmB4Lil4LmJ4LinIiwgew0KICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1yaWdodCIsDQogICAgICAgICAgICAgIHRpbWVvdXQ6IDE1MDAsDQogICAgICAgICAgICAgIGljb246IHRydWUsDQogICAgICAgICAgICAgIHJ0bDogZmFsc2UsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAvL1BlcmZvcm0gU3VjY2VzcyBBY3Rpb24NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgICB0aGlzLiR0b2FzdC5lcnJvcigiVXNlcm5hbWUg4LiZ4Li14LmJIOC4oeC4teC4nOC4ueC5ieC5g+C4iuC5ieC5geC4peC5ieC4pyIsIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLXJpZ2h0IiwNCiAgICAgICAgICAgIHRpbWVvdXQ6IDE1MDAsDQogICAgICAgICAgICBpY29uOiB0cnVlLA0KICAgICAgICAgICAgcnRsOiBmYWxzZSwNCiAgICAgICAgICB9KTsNCiAgICAgICAgICAvLyBlcnJvci5yZXNwb25zZS5zdGF0dXMgQ2hlY2sgc3RhdHVzIGNvZGUNCiAgICAgICAgfSkNCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgIC8vUGVyZm9ybSBhY3Rpb24gaW4gYWx3YXlzDQogICAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["addprofile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addprofile.vue","sourceRoot":"src/components/pages/profile/addprofile","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <div class=\"page-inner\">\r\n      <div class=\"page-header\">\r\n        <h4 class=\"page-title\">\r\n          <i class=\"fas fa-user-plus\"></i> เพิ่มสมาชิกแอดมิน\r\n        </h4>\r\n        <ul class=\"breadcrumbs\"></ul>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header\">\r\n              <h4 class=\"card-title\">เพิ่มแอดมิน</h4>\r\n            </div>\r\n            <div>\r\n              <form v-on:submit.prevent=\"submitForm\">\r\n                <div class=\"form-group row\">\r\n                  <label\r\n                    for=\"info_name\"\r\n                    class=\"col-lg-3 col-md-3 col-sm-4 mt-sm-2 text-right\"\r\n                  >\r\n                    ชื่อ:\r\n                    <span class=\"required-label\">*</span>\r\n                  </label>\r\n\r\n                  <input\r\n                    class=\"form-control col-lg-4 col-md-9 col-sm-8\"\r\n                    type=\"text\"\r\n                    name=\"info_name\"\r\n                    id=\"info_name\"\r\n                    aria-describedby=\"helpId\"\r\n                    placeholder=\"INFO_NAME\"\r\n                    v-model=\"form.info_name\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"form-group row\">\r\n                  <label\r\n                    for=\"info_name\"\r\n                    class=\"col-lg-3 col-md-3 col-sm-4 mt-sm-2 text-right\"\r\n                  >\r\n                    USERNAME:\r\n                    <span class=\"required-label\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control col-lg-4 col-md-9 col-sm-8\"\r\n                    name=\"username\"\r\n                    id=\"username\"\r\n                    aria-describedby=\"helpId\"\r\n                    placeholder=\"USERNAME\"\r\n                    v-model=\"form.username\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                  <label\r\n                    for=\"info_name\"\r\n                    class=\"col-lg-3 col-md-3 col-sm-4 mt-sm-2 text-right\"\r\n                  >\r\n                    รหัสผ่าน:\r\n                    <span class=\"required-label\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    class=\"form-control col-lg-4 col-md-9 col-sm-8\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"PASSWORD\"\r\n                    v-model=\"form.password\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                  <label\r\n                    for=\"info_name\"\r\n                    class=\"col-lg-3 col-md-3 col-sm-4 mt-sm-2 text-right\"\r\n                  >\r\n                    Role:\r\n                    <span class=\"required-label\">*</span>\r\n                  </label>\r\n                  <select\r\n                    class=\"form-control col-lg-4 col-md-9 col-sm-8\"\r\n                    name=\"role\"\r\n                    id=\"role\"\r\n                    v-model=\"form.role\"\r\n                    required\r\n                  >\r\n                    <option selected disabled value>เลือก Role</option>\r\n                    <option value=\"superAdmin\">SUPER ADMIN</option>\r\n                    <option value=\"Admin\">ADMIN</option>\r\n                    <option value=\"Staff\">STAFF</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div class=\"form-group row\">\r\n                  <label\r\n                    for=\"prefix\"\r\n                    class=\"col-lg-3 col-md-3 col-sm-4 mt-sm-2 text-right\"\r\n                  >\r\n                    Prefix:\r\n                    <span class=\"required-label\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"prefix\"\r\n                    class=\"form-control col-lg-4 col-md-9 col-sm-8\"\r\n                    name=\"prefix\"\r\n                    id=\"prefix\"\r\n                    placeholder=\"Prefix\"\r\n                    v-model=\"form.prefix\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                  <button class=\"btn btn-success float-right mb-4 me-4\">\r\n                    <i class=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n                    ยันยัน\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { baseURL } from \"../../../../services/api\";\r\nimport UserService from \"@/services/UserService\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        prefix: \"\",\r\n        info_name: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        role: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.checkAuth();\r\n  },\r\n  methods: {\r\n    async checkAuth() {\r\n      const res = await UserService.getProfile().catch(function (error) {\r\n        if (error.response.status === 401 || error.response.status === 500) {\r\n          const removeToken = localStorage.removeItem(\"access_token\");\r\n          if (removeToken == null) {\r\n            this.$router.push(\"/login\");\r\n          }\r\n        }\r\n      });\r\n      res.logout;\r\n    },\r\n    async submitForm() {\r\n      axios\r\n        .post(baseURL + \"/user\", this.form, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n          },\r\n        })\r\n        .then(() => {\r\n          (this.form.prefix = \"\"),\r\n            (this.form.info_name = \"\"),\r\n            (this.form.username = \"\"),\r\n            (this.form.password = \"\"),\r\n            (this.form.role = \"\"),\r\n            this.$toast.success(\"สมัครเรียบร้อยแล้ว\", {\r\n              position: \"top-right\",\r\n              timeout: 1500,\r\n              icon: true,\r\n              rtl: false,\r\n            });\r\n          //Perform Success Action\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.$toast.error(\"Username นี้ มีผู้ใช้แล้ว\", {\r\n            position: \"top-right\",\r\n            timeout: 1500,\r\n            icon: true,\r\n            rtl: false,\r\n          });\r\n          // error.response.status Check status code\r\n        })\r\n        .finally(() => {\r\n          //Perform action in always\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}