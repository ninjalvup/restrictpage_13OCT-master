{"remainingRequest":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thossaporn/Downloads/game/admin-web/src/components/pages/Dashboard/Dashboard.vue?vue&type=style&index=0&id=38093aee&scoped=true&lang=css&","dependencies":[{"path":"/Users/thossaporn/Downloads/game/admin-web/src/components/pages/Dashboard/Dashboard.vue","mtime":1641957193468},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/css-loader/dist/cjs.js","mtime":1661273170583},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1661273161777},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/postcss-loader/src/index.js","mtime":1661273165526},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/cache-loader/dist/cjs.js","mtime":1661273170805},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js","mtime":1661273161751}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmFueUNsYXNzIHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC13cmFwOiBub3dyYXA7DQogIG92ZXJmbG93LXk6IGF1dG87DQp9DQo="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+UA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components/pages/Dashboard","sourcesContent":["<template>\r\n  <div id=\"dashboard\">\r\n    <div class=\"page-inner\">\r\n      <div class=\"page-header\">\r\n        <br />\r\n        <h4 class=\"page-title\">\r\n          <i class=\"fa fa-home\" aria-hidden=\"true\"></i> หน้าหลัก\r\n        </h4>\r\n        <ul class=\"breadcrumbs\"></ul>\r\n      </div>\r\n\r\n      <div class=\"col-md-12\">\r\n        <div class=\"col-md-12\">\r\n          <topDashboard />\r\n        </div>\r\n        <div>\r\n          <div class=\"col-md-12 row\">\r\n            <div class=\"col-md-7\">\r\n              <underRight />\r\n            </div>\r\n            <div class=\"col-md-5\">\r\n              <div class=\"card\">\r\n                <div class=\"card-header bg-primary\">\r\n                  <h4 class=\"card-title text-white\">รายการเดินบัญชีวันนี้</h4>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <div\r\n                    v-if=\"\r\n                      smstable.length <= 0 ||\r\n                      smstable.length === 0 ||\r\n                      smstable.length === null\r\n                    \"\r\n                  >\r\n                    <div class=\"alert alert-danger\" role=\"alert\">\r\n                      ไม่มีรายการเดินบัญชี\r\n                    </div>\r\n                  </div>\r\n                  <div v-for=\"data in smstable\" v-bind:key=\"data.id\">\r\n                    <div\r\n                      class=\"col-md-12 col-sm-12 col-lg-12 ng-scope\"\r\n                      ng-repeat=\"t in trans\"\r\n                      style=\"\"\r\n                    >\r\n                      <div\r\n                        v-if=\"data.member_account_bank_transaction != null\"\r\n                        class=\"row\"\r\n                      >\r\n                        <div class=\"col-md-2 col-sm-2 col-lg-2\">\r\n                          <img\r\n                            :src=\"\r\n                              require(`../../../assets/bank_icon/${data.bank_tranfer.toLowerCase()}.png`)\r\n                            \"\r\n                            alt\r\n                            class=\"icon ml-3\"\r\n                            width=\"40\"\r\n                            height=\"40\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"col-md-10 col-sm-10 col-lg-10\">\r\n                          <div class=\"row\">\r\n                            <div class=\"col-md-6 col-sm-6 col-lg-6\">\r\n                              <span\r\n                                style=\"font-weight: bold; font-size: 18px\"\r\n                                class=\"pull-left ng-binding\"\r\n                                v-if=\"data.title_tranfer != null\"\r\n                                >{{ data.title_tranfer.toUpperCase() }}</span\r\n                              >\r\n                              <span\r\n                                style=\"font-weight: bold; font-size: 18px\"\r\n                                class=\"pull-left ng-binding\"\r\n                                v-if=\"data.title_tranfer === null\"\r\n                                >SMS</span\r\n                              >\r\n\r\n\r\n                               <!-- <span\r\n                                style=\"font-weight: bold; font-size: 18px\"\r\n                                class=\"pull-left ng-binding\"\r\n                          \r\n                                >SMS</span> -->\r\n                            </div>\r\n                            <div class=\"col-md-6 col-sm-6 col-lg-6\">\r\n                              <span class=\"pull-right ng-binding\"\r\n                                >{{ data.createdAt | formatDate }}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"row\">\r\n                            <div class=\"col-md-12 col-sm-12 col-lg-12\">\r\n                              <p>\r\n                                <!-- ({{ data.bank_tranfer.toUpperCase() }}) -->\r\n                                {{ data.sms_content }}\r\n                                <br />\r\n                                <span class=\"badge badge-secondary\">\r\n                                  <a\r\n                                    class=\"text-white\"\r\n                                    href=\"#/home\"\r\n                                    @click=\"getClipboard\"\r\n                                    v-clipboard:copy=\"\r\n                                      data.member_account_bank_transaction\r\n                                        .username\r\n                                    \"\r\n                                  >\r\n                                    {{\r\n                                      data.member_account_bank_transaction\r\n                                        .username\r\n                                    }}\r\n                                  </a>\r\n                                  <!-- <a\r\n                                    href=\"#/home\"\r\n                                    @click=\"\r\n                                      viewAnnotation(\r\n                                        data.member_account_bank_transaction\r\n                                          .username\r\n                                      )\r\n                                    \"\r\n                                    >{{\r\n                                      data.member_account_bank_transaction\r\n                                        .username\r\n                                    }}\r\n                                  </a> -->\r\n                                  ฝาก {{ data.amount }} โบนัส\r\n                                  {{\r\n                                    data.member_account_bank_transaction\r\n                                      .bonus_credit\r\n                                  }}\r\n                                  บาท\r\n                                </span>\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"row\">\r\n                            <div class=\"col-md-12 col-sm-12 col-lg-12\">\r\n                              <p>\r\n                                เครดิตก่อนเติม :\r\n                                <strong>{{\r\n                                  data.member_account_bank_transaction.credit_before.toFixed()\r\n                                }}</strong>\r\n                                <br />\r\n                                เครดิตหลังเติม :\r\n                                <strong\r\n                                  >{{\r\n                                    data.member_account_bank_transaction.credit_after.toFixed()\r\n                                  }}\r\n                                </strong>\r\n                                <br />\r\n                                เวลาเติมสำเร็จ :\r\n                                <strong\r\n                                  >{{ data.bank_date }} {{ data.bank_time }}\r\n                                </strong>\r\n                              </p>\r\n                              <hr />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <!-- <div class=\"alert alert-danger\" role=\"alert\">\r\n                        ไม่มีรายการเดินบัญชี\r\n                      </div> -->\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport smsService from \"@/services/smsService\";\r\nimport UserService from \"@/services/UserService\";\r\nimport topDashboard from \"./Top-dashbord\";\r\nimport underRight from \"./Under-right\";\r\n\r\nexport default {\r\n  components: {\r\n    topDashboard,\r\n    underRight,\r\n  },\r\n  data() {\r\n    return {\r\n      firstname: \"\",\r\n      username: \"\",\r\n      smstable: [],\r\n      role: \"\",\r\n      curlSmsTransaction: [],\r\n      smsNewdata: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    async getSMS() {\r\n      const res = await smsService.getScbSmsTransactionSuccess();\r\n      // console.log(res.data);\r\n      this.smstable = res.data;\r\n      let self = this;\r\n      setTimeout(async function () {\r\n        await self.getSMS();\r\n      }, 5000);\r\n      // let self = this;\r\n\r\n      // const res = await smsService.getScbSmsTransaction();\r\n      // for (var i = 0; i < res.data.length; i++) {\r\n      //   // console.log(smsNewdata);\r\n      //   // if(){\r\n\r\n      //   // }\r\n      //   if (\r\n      //     res.data[i].status === \"1\" &&\r\n      //     res.data[i].member_account_bank_transaction != null\r\n      //   ) {\r\n      //     // let smsNewdata = this.smstable.filter((e) => {\r\n\r\n      //     //   return e.id = res.data.id\r\n      //     // });\r\n      //     // console.log(smsNewdata);\r\n      //     this.smstable.push({\r\n      //       id: res.data[i].id,\r\n      //       uuid: res.data[i].uuid,\r\n      //       title: res.data[i].member_account_bank_transaction\r\n      //           .member_account_banks[0].bank_name,\r\n      //       amount: res.data[i].amount,\r\n      //       status: res.data[i].status,\r\n      //       createdAt: res.data[i].createdAt,\r\n      //       bank_date: res.data[i].bank_date,\r\n      //       bank_time: res.data[i].bank_time,\r\n      //       content: res.data[i].sms_content,\r\n      //       username: res.data[i].member_account_bank_transaction.username,\r\n      //       bonus: res.data[i].member_account_bank_transaction.bonus_credit,\r\n      //       credit_before:\r\n      //         res.data[i].member_account_bank_transaction.credit_before,\r\n      //       credit_after:\r\n      //         res.data[i].member_account_bank_transaction.credit_after,\r\n\r\n      //       bank_number:\r\n      //         res.data[i].member_account_bank_transaction\r\n      //           .member_account_banks[0].bank_number,\r\n      //       bank_name:\r\n      //         res.data[i].member_account_bank_transaction\r\n      //           .member_account_banks[0].bank_name,\r\n      //     });\r\n      //   }\r\n      // }\r\n      // this.smstable.forEach((element) => {\r\n      //   // this.curlSmsTransaction.splice(element);\r\n      //   this.curlSmsTransaction.push(element);\r\n      // });\r\n\r\n      // setTimeout(async function () {\r\n      //   await self.getSMS();\r\n      //   // console.log(\"3\");\r\n      // }, 20000);\r\n\r\n      // if (this.curlSmsTransaction.length > 0) {\r\n      //   this.ishasData = true;\r\n      // }\r\n    },\r\n\r\n    //     mod\r\n    //     async getSMS() {\r\n    //       const res = await smsService.getScbSmsTransaction();\r\n    //       for (var i = 0; i < res.data.length; i++) {\r\n    //         if (\r\n    //           res.data[i].status === \"1\" &&\r\n    //           res.data[i].member_account_bank_transaction != null\r\n    //         ) {\r\n    //           this.smstable = res.data;\r\n    //       //      this.smstable.aaa =res.data[i].member_account_bank_transaction.member_account_banks[0].bank_number;\r\n    //       //  console.log(this.smstable.aaa);\r\n    //        }\r\n    //       }\r\n    //       // this.smsNewdata =\"\";\r\n\r\n    // console.log(this.smstable);\r\n    //       console.log(this.smstable);\r\n    //       // this.smsNewdata.splice(0 , this.smsNewdata.length, this.smstable )\r\n    //       // console.log(this.smsNewdata);\r\n    //       // const arr1 = this.smstable;\r\n    //       // const arr2 = this.smsNewdata;\r\n    //       // const filterArray = (arr1, arr2) => {\r\n    //       //    const filtered = arr1.filter(el => {\r\n    //       //       return arr2.indexOf(el) === -1;\r\n    //       //    });\r\n    //       //    return filtered;\r\n    //       // };\r\n    //       // console.log(filterArray(arr1, arr2));\r\n    //       // this.curlSmsTransaction = filterArray(arr1, arr2);\r\n    //       // var arr = this.smstable;\r\n    //       // var anotherArr = this.smsNewdata;\r\n\r\n    //       // Array.prototype.splice.apply(arr, [0, anotherArr.length].concat(anotherArr));\r\n\r\n    //       // console.log(arr);\r\n    //       // console.log(this.curlSmsTransaction);\r\n    //     },\r\n\r\n    async checkAuth() {\r\n      const res = await UserService.getProfile().catch(function (error) {\r\n        if (error.response.status === 401 || error.response.status === 500) {\r\n          const removeToken = localStorage.removeItem(\"access_token\");\r\n          if (removeToken == null) {\r\n            this.$router.push(\"/login\");\r\n          }\r\n        }\r\n      });\r\n      res.logout;\r\n    },\r\n    getClipboard() {\r\n      this.$toast.success(\"คัดลอก User สำเร็จแล้ว\", {\r\n        position: \"top-right\",\r\n        timeout: 1500,\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.checkAuth();\r\n    // this.newCall();\r\n    //  let self = this;\r\n    //  setTimeout( function () {\r\n    //       console.log(\"3\");\r\n    //     }, 300);\r\n\r\n    // console.log(this.curlSmsTransaction);\r\n  },\r\n  beforeMount() {\r\n    this.getSMS();\r\n  },\r\n  // prop:\r\n};\r\n</script>\r\n<style scoped>\r\n.anyClass {\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n"]}]}