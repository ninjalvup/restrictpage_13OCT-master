{"remainingRequest":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thossaporn/Downloads/game/admin-web/src/components/pages/manageWithdraw/withdrawpending.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/thossaporn/Downloads/game/admin-web/src/components/pages/manageWithdraw/withdrawpending.vue","mtime":1659710386844},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/css-loader/dist/cjs.js","mtime":1661273170583},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1661273161777},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/postcss-loader/src/index.js","mtime":1661273165526},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/cache-loader/dist/cjs.js","mtime":1661273170805},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js","mtime":1661273161751}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5uby1kcm9wIHsNCiAgY3Vyc29yOiBuby1kcm9wOw0KfQ0K"},{"version":3,"sources":["withdrawpending.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAm6CA;AACA;AACA","file":"withdrawpending.vue","sourceRoot":"src/components/pages/manageWithdraw","sourcesContent":["<template>\r\n  <div id=\"User\">\r\n    <div class=\"page-inner\">\r\n      <div class=\"page-header\">\r\n        <h4 class=\"page-title\">\r\n          <i class=\"fa fa-tasks\" aria-hidden=\"true\"></i> จัดการข้อมูลถอน\r\n        </h4>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-2\">\r\n                  <label for=\"datetime\">\r\n                    <i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>\r\n                    จากวันที่</label\r\n                  >\r\n                  <VueCtkDateTimePicker\r\n                    :only-date=\"true\"\r\n                    v-model=\"todate\"\r\n                    format=\"YYYY-MM-DD\"\r\n                    formatted=\"DD-MM-YYYY\"\r\n                    :no-label=\"true\"\r\n                    Label=\"yesterday\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-1\">\r\n                  <label for=\"datetime\">\r\n                    <i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i>\r\n                    เวลา</label\r\n                  >\r\n                  <VueCtkDateTimePicker\r\n                    v-model=\"totime\"\r\n                    :only-time=\"true\"\r\n                    format=\"HH:mm:ss\"\r\n                    formatted=\"HH:mm\"\r\n                    :no-label=\"true\"\r\n                    label=\"Time\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <label for=\"datetime\">\r\n                    <i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>\r\n                    ถึงวันที่</label\r\n                  >\r\n                  <VueCtkDateTimePicker\r\n                    :only-date=\"true\"\r\n                    v-model=\"yesterdate\"\r\n                    format=\"YYYY-MM-DD\"\r\n                    formatted=\"DD-MM-YYYY\"\r\n                    :no-label=\"true\"\r\n                    Label=\"today\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-1\">\r\n                  <label for=\"datetime\">\r\n                    <i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i> เวลา</label\r\n                  >\r\n                  <VueCtkDateTimePicker\r\n                    v-model=\"yestertime\"\r\n                    :only-time=\"true\"\r\n                    format=\"HH:mm:ss\"\r\n                    formatted=\"HH:mm\"\r\n                    :no-label=\"true\"\r\n                    label=\"Time\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <label for=\"datetime\">เลือกสถานะ</label>\r\n                  <select\r\n                    class=\"form-control\"\r\n                    name=\"bonus\"\r\n                    id=\"bonus\"\r\n                    required\r\n                    v-model=\"status\"\r\n                    @change=\"onChange($event)\"\r\n                  >\r\n                    <option selected value=\"\">ทั้งหมด</option>\r\n                    <!-- <option :value=\"status_all\">ทั้งหมด</option> -->\r\n                    <option :value=\"status_fail\">ผิดพลาด</option>\r\n                    <option :value=\"status_create\">รออนุมัติ</option>\r\n                    <option :value=\"status_approve\">อนุมัติแล้ว</option>\r\n                    <option :value=\"status_process\">กำลังทำรายการ</option>\r\n                    <option :value=\"status_success\">สำเร็จ</option>\r\n                    <option :value=\"status_otp\">OTP</option>\r\n                    <option :value=\"status_reject\">ยกเลิก</option>\r\n                    <option :value=\"status_manual\">ถอนมือ</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <label for=\"datetime\">กรุณากรอกข้อมูลที่ต้องการ</label>\r\n                  <input\r\n                    class=\"form-control\"\r\n                    id=\"email2\"\r\n                    placeholder=\"ข้อมูลที่ต้องการค้นหา\"\r\n                    v-model=\"username\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"col-md-1.5\">\r\n                  <label for=\"datetime\"></label>\r\n                  <br />\r\n                  <button\r\n                    class=\"btn btn-primary btn-sm ml-1\"\r\n                    v-on:click.prevent=\"getDataParam(), getPersonReportParam()\"\r\n                  >\r\n                    <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                    ค้นหา\r\n                  </button>\r\n                  <!-- <button\r\n                    class=\"btn btn-secondary btn-sm ml-1\"\r\n                    v-on:click.prevent=\"\r\n                      getYesterday(), getPersonReportYesterday()\r\n                    \"\r\n                  >\r\n                    เมื่อวาน\r\n                  </button>\r\n                  <button\r\n                    class=\"btn btn-warning btn-sm ml-1\"\r\n                    v-on:click.prevent=\"getToday(), getPersonReportToday()\"\r\n                  >\r\n                    วันนี้\r\n                  </button> -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"card\">\r\n            <span class=\"border\"></span>\r\n            <div class=\"table-responsive\">\r\n              <table\r\n                id=\"basic-datatables\"\r\n                class=\"display table table-striped table-hover table-bordered\"\r\n              >\r\n                <thead style=\"text-align: center\">\r\n                  <tr>\r\n                    <th>จัดการคิว</th>\r\n\r\n                    <th>ธนาคาร</th>\r\n                    <th>บัญชี</th>\r\n                    <th>จำนวนครั้ง</th>\r\n                    <th>จำนวนเงินถอน</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody style=\"text-align: center\">\r\n                  <tr v-for=\"data in accountbank\" v-bind:key=\"data.id\">\r\n                    <td>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-warning\"\r\n                        @click=\"checkRequeue\"\r\n                      >\r\n                        <i class=\"fas fa-redo\"></i>\r\n                        Reset\r\n                      </button>\r\n                    </td>\r\n                    <td>\r\n                      <div>\r\n                        <div class=\"avatar mt-3\">\r\n                          <img\r\n                            :src=\"\r\n                              require(`../../../assets/bank_icon/${data.bank_name.toLowerCase()}.png`)\r\n                            \"\r\n                            class=\"icon\"\r\n                            width=\"40\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      {{ data.bank_account_name }} <br />\r\n                      {{ data.bank_number }}\r\n                    </td>\r\n                    <td>{{ timewithdraw }}</td>\r\n                    <td>{{ amountwithdraw | formatNumber }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div class=\"card\">\r\n            <span class=\"border\"></span>\r\n\r\n            <span class=\"border\"></span>\r\n            <!-- \r\n            <div class=\"float-right mt-3 mb-3 mr-3 ml-3\">\r\n              หมายเหตุ:\r\n              <span class=\"badge badge-warning\"> Create</span> = รออนุมัติ |\r\n              <span class=\"badge badge-primary\"> Approve</span> = อนุมัติแล้ว |\r\n              <span class=\"badge badge-info\"> Process</span> = กำลังทำรายการ |\r\n              <span class=\"badge badge-success\"> Success</span> = สำเร็จ |\r\n              <span class=\"badge badge-danger\"> Reject</span> = ยกเลิก |\r\n              <span class=\"badge badge-danger\"> Fail</span> = ระบบธนาคารผิดพลาด\r\n              | <span class=\"badge badge-secondary\"> Manual</span> = ถอนมือ\r\n            </div> -->\r\n            <span class=\"border\"></span>\r\n            <div class=\"table-responsive\">\r\n              <table\r\n                id=\"basic-datatables\"\r\n                class=\"display table table-striped table-hover table-bordered\"\r\n              >\r\n                <thead style=\"text-align: center\">\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>ธนาคาร</th>\r\n                    <th>ยอดเงินถอน</th>\r\n                    <th>วันที่ถอน</th>\r\n                    <th>วันที่อัพเดท</th>\r\n                    <th>สถานะ</th>\r\n                    <th>ออโต้</th>\r\n                    <th>ทำโดย</th>\r\n                    <th>หมาย เหตุ</th>\r\n                    <th>เงินในบัญชี</th>\r\n                    <th>อนุมัติ</th>\r\n                    <th>ยกเลิกถอน</th>\r\n                    <!-- <th>รีเซ็ต</th> -->\r\n                    <th>ถอนมือ</th>\r\n                    <th>สลิป</th>\r\n                    <!--<th>เปลี่ยนสถานะ</th>-->\r\n                  </tr>\r\n                </thead>\r\n                <tbody style=\"text-align: center\">\r\n                  <tr\r\n                    v-for=\"(data, index) in withdrawpending\"\r\n                    v-bind:key=\"data.uuid\"\r\n                  >\r\n                    <!-- <td>{{withdrawpending.length}}</td> -->\r\n                    <td>\r\n                      {{ index + 1 }}\r\n                    </td>\r\n                    <td>\r\n                      <div class=\"avatar mt-3\">\r\n                        <img\r\n                          :src=\"\r\n                            require(`../../../assets/bank_icon/${data.member_account_banks[0].bank_name.toLowerCase()}.png`)\r\n                          \"\r\n                          class=\"icon\"\r\n                          width=\"40\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <b>\r\n                          <a\r\n                            href=\"#/withdrawpending\"\r\n                            @click=\"getClipboardBank\"\r\n                            v-clipboard:copy=\"\r\n                              data.member_account_banks[0].bank_number\r\n                            \"\r\n                            >{{ data.member_account_banks[0].bank_number }}</a\r\n                          ></b\r\n                        >\r\n                      </div>\r\n                      <div class=\"\">\r\n                        {{ data.member_account_banks[0].bank_account_name }}\r\n                      </div>\r\n                      <div>\r\n                        <b>\r\n                          <a\r\n                            href=\"#/withdrawpending\"\r\n                            @click=\"getClipboard\"\r\n                            v-clipboard:copy=\"data.username\"\r\n                            >{{ data.username }}</a\r\n                          ></b\r\n                        >\r\n                      </div>\r\n                    </td>\r\n\r\n                    <td>\r\n                      <div v-if=\"data.transaction_type === '2'\">\r\n                        <h5>\r\n                          {{\r\n                            data.amount\r\n                              .toFixed(2)\r\n                              .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\r\n                          }}\r\n                        </h5>\r\n                        <h6>\r\n                          <span class=\"badge badge-warning mt-1 mb-1\">\r\n                            เครดิต</span\r\n                          >\r\n                        </h6>\r\n                      </div>\r\n\r\n                      <div v-else>\r\n                        <h5>\r\n                          {{\r\n                            data.amount\r\n                              .toFixed(2)\r\n                              .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\r\n                          }}\r\n                        </h5>\r\n                        <h6>\r\n                          <span class=\"badge badge-info mt-1 mb-1\">\r\n                            รายได้</span\r\n                          >\r\n                        </h6>\r\n                      </div>\r\n                    </td>\r\n                    <!-- <td>\r\n                        <div v-if=\"data.transaction_type == '1'\">\r\n                          <span class=\"badge badge-info\">ฝาก</span>\r\n                        </div>\r\n                        <div v-if=\"data.transaction_type == '2'\">\r\n                          <span class=\"badge badge-warning\">ถอน</span>\r\n                        </div>\r\n                      </td> -->\r\n                    <td>{{ data.bank_time }}</td>\r\n                    <td>{{ data.updatedAt | formatDate }}</td>\r\n\r\n                    <td>\r\n                      <div v-if=\"data.transaction_status === 'Fail'\">\r\n                        <span class=\"badge badge-warning\">ผิดพลาด</span>\r\n                      </div>\r\n\r\n                      <div v-if=\"data.transaction_status === 'Create'\">\r\n                        <span class=\"badge badge-info\">รออนุมัติ</span>\r\n                      </div>\r\n                      <div v-if=\"data.transaction_status === 'Approve'\">\r\n                        <span class=\"badge badge-primary\">อนุมัติแล้ว</span>\r\n                      </div>\r\n                      <div v-if=\"data.transaction_status === 'Process'\">\r\n                        <span class=\"badge badge-secondary\">รอทำรายการ</span>\r\n                      </div>\r\n                      <div\r\n                        v-if=\"\r\n                          data.transaction_status === 'Success' &&\r\n                          data.auto_status === 'Withdraw Success'\r\n                        \"\r\n                      >\r\n                        <span class=\"badge badge-success\">สำเร็จ</span>\r\n                      </div>\r\n\r\n                      <div\r\n                        v-if=\"\r\n                          data.transaction_status === 'Success' &&\r\n                          data.auto_status === 'Process'\r\n                        \"\r\n                      >\r\n                        <span class=\"badge badge-success\">ทำรายการ</span>\r\n                      </div>\r\n                      <div\r\n                        v-if=\"\r\n                          data.transaction_status === 'Success' &&\r\n                          data.auto_status === 'wait OTP'\r\n                        \"\r\n                      >\r\n                        <span class=\"badge badge-warning\">OTP</span>\r\n                      </div>\r\n                      <div v-if=\"data.transaction_status === '1'\">\r\n                        <span class=\"badge badge-warning\">ถอนมือ</span>\r\n                      </div>\r\n                      <div v-if=\"data.transaction_status === 'queue'\">\r\n                        <span class=\"badge badge-info\">อยู่ในคิว</span>\r\n                      </div>\r\n                      <div v-if=\"data.transaction_status === 'Reject'\">\r\n                        <span class=\"badge badge-danger\">ยกเลิก</span>\r\n                      </div>\r\n                      <div\r\n                        v-if=\"\r\n                          data.transaction_status === 'Success' &&\r\n                          data.auto_status === 'manual'\r\n                        \"\r\n                      >\r\n                        <span class=\"badge badge-success\">สำเร็จ</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div v-if=\"data.auto_status === 'withdraw Fail'\">\r\n                        <span class=\"badge badge-danger\">ผิดพลาด</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'queue'\">\r\n                        <span class=\"badge badge-secondary\">อยู่ในคิว</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'Normal'\">\r\n                        <span class=\"badge badge-info\">ปกติ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'Create'\">\r\n                        <span class=\"badge badge-success\">ปกติ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'Approve'\">\r\n                        <span class=\"badge badge-info\">อนุมัติ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'manual'\">\r\n                        <span class=\"badge badge-warning\">ถอนมือ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'Manual'\">\r\n                        <span class=\"badge badge-warning\">ถอนมือ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'Success'\">\r\n                        <span class=\"badge badge-info\">อนุมัติ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === '-'\">\r\n                        <span>-</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === null\">\r\n                        <span>-</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'Process'\">\r\n                        <span class=\"badge badge-info\">ดำเนินการ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'Withdraw Success'\">\r\n                        <span class=\"badge badge-success\">ปกติ</span>\r\n                      </div>\r\n                      <div v-if=\"data.auto_status === 'wait OTP'\">\r\n                        <span class=\"badge badge-success\">ปกติ</span>\r\n                      </div>\r\n                      <!-- <div v-if=\" data.auto_status ==='withdraw Fail'\">\r\n                      <span class=\"badge badge-danger\">ถอนผิดพลาด</span>\r\n                      </div> -->\r\n                    </td>\r\n                    <td>{{ data.create_by }}</td>\r\n                    <td>\r\n                      <a\r\n                        href=\"#/withdrawpending\"\r\n                        @click=\"viewAnnotation(data.annotation)\"\r\n                        >view\r\n                      </a>\r\n                    </td>\r\n                    <td>\r\n                      <div v-if=\"data.credit_bank_before === null\">\r\n                        <span class=\"badge badge-danger mt-1 mb-1\">0.00</span>\r\n                      </div>\r\n                      <div v-if=\"data.credit_bank_before != null\">\r\n                        <span class=\"badge badge-danger mt-1 mb-1\">{{\r\n                          data.credit_bank_before\r\n                        }}</span>\r\n                      </div>\r\n                      <span\r\n                        class=\"badge badge-success mt-1 mb-1\"\r\n                        v-if=\"data.credit_bank_after === null\"\r\n                      >\r\n                        0.00</span\r\n                      >\r\n                      <span\r\n                        class=\"badge badge-success mt-1 mb-1\"\r\n                        v-if=\"data.credit_bank_after != null\"\r\n                      >\r\n                        {{ data.credit_bank_after }}</span\r\n                      >\r\n                      <div></div>\r\n                    </td>\r\n\r\n                    <td>\r\n                      <!-- Approve -->\r\n                      <div\r\n                        v-if=\"\r\n                          data.auto_status === null ||\r\n                          data.auto_status === '' ||\r\n                          data.auto_status === '-' ||\r\n                          data.transaction_status === 'Create' ||\r\n                          data.transaction_status === 'Process'\r\n                        \"\r\n                      >\r\n                        <button\r\n                          :id=\"'postApprove'+index\"\r\n                          class=\"btn btn-secondary btn-sm mr-1 text-white\"\r\n                          v-on:click.prevent=\"postApprove(data,index), notiWait()\"\r\n                        >\r\n                          <i class=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                      </div>\r\n                      <div v-else>\r\n                        <button\r\n                          id=\"\"\r\n                          class=\"\r\n                            btn btn-secondary btn-sm\r\n                            mr-1\r\n                            text-white\r\n                            no-drop\r\n                          \"\r\n                          disabled\r\n                        >\r\n                          <i class=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                      </div>\r\n\r\n                      <!-- <button\r\n                        id=\"postApprove\"\r\n                        class=\"btn btn-secondary btn-sm mr-1 text-white\"\r\n                        v-on:click.prevent=\"postApprove(data)\"\r\n                      >\r\n                        <i class=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n                      </button> -->\r\n                    </td>\r\n                    <td>\r\n                      <!-- <div\r\n                        v-if=\"\r\n                          (data.transaction_type === '2' &&\r\n                            data.auto_status === null &&\r\n                            data.auto_status === 'Approve' &&\r\n                            data.auto_status === '' &&\r\n                            data.auto_status === '-') \r\n                        \"\r\n                      > -->\r\n                      <div\r\n                        v-if=\"\r\n                          data.auto_status === null ||\r\n                          data.auto_status === 'Approve' ||\r\n                          data.auto_status === '-' ||\r\n                          data.auto_status === '' ||\r\n                          data.transaction_status === 'Create'\r\n                        \"\r\n                      >\r\n                        <button\r\n                          id=\"postCancel\"\r\n                          type=\"button\"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#changeStatus\"\r\n                          v-on:click.prevent=\"passUpdate(data, type.cancel)\"\r\n                          class=\"btn btn-danger btn-sm ml-1\"\r\n                        >\r\n                          <i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>\r\n                          <!-- ยกเลิกถอน -->\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div v-else-if=\"data.transaction_type === '3'\">\r\n                        <button\r\n                          id=\"affiliateCancel\"\r\n                          type=\"button\"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#modalAffiliateCancel\"\r\n                          v-on:click.prevent=\"fnCancel(data)\"\r\n                          class=\"btn btn-danger btn-sm ml-1\"\r\n                        >\r\n                          <i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>\r\n                          <!-- ยกเลิกถอนรายได้ -->\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div v-else>\r\n                        <button\r\n                          disabled\r\n                          type=\"button\"\r\n                          class=\"btn btn-danger btn-sm ml-1 no-drop\"\r\n                        >\r\n                          <i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>\r\n                          <!-- ยกเลิกถอน -->\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n\r\n                    <!-- <td>\r\n                      <div\r\n                        v-if=\"\r\n                          data.auto_status === null ||\r\n                          data.auto_status === 'Process' ||\r\n                          data.auto_status === 'Approve' ||\r\n                          data.auto_status === '-' ||\r\n                          data.auto_status === '' ||\r\n                          data.transaction_status === 'Process'\r\n                        \"\r\n                      >\r\n                        <button\r\n                          id=\"postReset\"\r\n                          type=\"button\"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#changeStatus\"\r\n                          class=\"btn btn-info btn-sm ml-1\"\r\n                          v-on:click.prevent=\"passUpdate(data, type.reset)\"\r\n                        >\r\n                          <i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div v-else>\r\n                        <button\r\n                          v-on:click.prevent=\"passUpdate(data, type.reset)\"\r\n                          id=\"postReset\"\r\n                          type=\"button\"\r\n                          disabled\r\n                          class=\"btn btn-info btn-sm ml-1\"\r\n                        >\r\n                          <i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </td> -->\r\n\r\n                    <td>\r\n                      <!-- ถอนมือ -->\r\n                      <div\r\n                        v-if=\"\r\n                          data.auto_status === null ||\r\n                          data.auto_status === '-' ||\r\n                          data.auto_status === 'Approve' ||\r\n                          data.auto_status === '' ||\r\n                          data.transaction_status === 'Process'\r\n                        \"\r\n                      >\r\n                        <button\r\n                          id=\"getShowWithdrawByUuid\"\r\n                          type=\"button\"\r\n                          class=\"btn btn-dark btn-sm ml-1\"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#manualAnnotation\"\r\n                          v-on:click.prevent=\"checkClicked(data.uuid, uuid)\"\r\n                        >\r\n                          <i class=\"fas fa-hand-holding-usd fa-lg\"></i>\r\n                        </button>\r\n                      </div>\r\n                      <div v-else>\r\n                        <button\r\n                          disabled\r\n                          id=\"getShowWithdrawByUuid\"\r\n                          type=\"button\"\r\n                          class=\"btn btn-dark btn-sm ml-1 no-drop\"\r\n                        >\r\n                          <i class=\"fas fa-hand-holding-usd fa-lg\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n\r\n                    <td>\r\n                      <div v-if=\"data.transaction_slip === null\">\r\n                        <button\r\n                          id=\"viewSlipnull\"\r\n                          type=\"button\"\r\n                          class=\"btn btn-info btn-sm ml-1 no-drop\"\r\n                          disabled\r\n                        >\r\n                          <i class=\"fa fa-list-alt\" aria-hidden=\"true\"></i>\r\n\r\n                          <!-- สลิป -->\r\n                        </button>\r\n                      </div>\r\n                      <div v-else>\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-info btn-sm\"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#viewSlip\"\r\n                          @click=\"passSlip(data)\"\r\n                        >\r\n                          <i class=\"fa fa-list-alt\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                        <!-- <a\r\n                          target=\"_blank\"\r\n                          id=\"viewSlip\"\r\n                          type=\"button\"\r\n                          class=\"btn btn-info btn-sm ml-1\"\r\n                          :href=\"`${data.transaction_slip}`\"\r\n                        >\r\n\r\n                          <i class=\"fa fa-list-alt\" aria-hidden=\"true\"></i>\r\n                        </a> -->\r\n                      </div>\r\n                    </td>\r\n\r\n                    <td>\r\n                      <!-- data.auto_status === 'Process' || -->\r\n\r\n                      <div\r\n                        v-if=\"\r\n                          data.auto_status === null ||\r\n                          data.auto_status === 'queue' ||\r\n                          data.auto_status === '-' ||\r\n                          data.auto_status === 'Approve' ||\r\n                          data.auto_status === 'Approve' ||\r\n                          data.auto_status === 'manual' ||\r\n                          data.auto_status === '' ||\r\n                          data.auto_status === 'Withdraw Success' ||\r\n                          data.transaction_status === 'Process'\r\n                        \"\r\n                      >\r\n                        <button\r\n                          type=\"button\"\r\n                          id=\"postChange\"\r\n                          class=\"btn btn-warning btn-sm mt-1 no-drop\"\r\n                          disabled\r\n                        >\r\n                          <i class=\"fas fa-pen\"></i>\r\n                          <!-- เปลี่ยนสถานะ -->\r\n                        </button>\r\n                      </div>\r\n                      <div v-else>\r\n                        <!-- v-on:click.prevent=\"passUpdate(data, type.update)\" -->\r\n\r\n                        <button\r\n                          v-on:click.prevent=\"passUpdate(data, type.update)\"\r\n                          type=\"button\"\r\n                          id=\"postChange\"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#changeStatus\"\r\n                          class=\"btn btn-warning btn-sm mt-1\"\r\n                        >\r\n                          <i class=\"fas fa-pen\"></i>\r\n                          <!-- เปลี่ยนสถานะ -->\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n                <tbody>\r\n                  <tr v-if=\"withdrawpending.length == '0'\">\r\n                    <td colspan=\"17\" class=\"text-center text-danger\">\r\n                      <i class=\"fas fa-times\"></i>\r\n                      ไม่มีข้อมูล !\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- modalSTATUSCHANGE -->\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"changeStatus\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"myExtraLargeModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h3 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                กรอกหมายเหตุ<span class=\"required-label\">***</span>\r\n              </h3>\r\n            </div>\r\n            <form v-on:submit.prevent.stop=\"postUpdate\">\r\n              <div class=\"modal-body\">\r\n                <div>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"หมายเหตุ\"\r\n                    v-model=\"formupdatestatus.annotation\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <button type=\"submit\" class=\"btn btn-primary\">ยืนยัน</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- modal cancel -->\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"modalAffiliateCancel\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"myExtraLargeModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h3 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                กรอกหมายเหตุ<span class=\"required-label\">***</span>\r\n              </h3>\r\n            </div>\r\n            <form v-on:submit.prevent=\"affiliateCancel\">\r\n              <div class=\"modal-body\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"หมายเหตุ\"\r\n                  v-model=\"formupdatestatus.annotation\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <button type=\"submit\" class=\"btn btn-primary\">ยืนยัน</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- modalManual -->\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"manualAnnotation\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"myExtraLargeModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h3 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                กรอกหมายเหตุ<span class=\"required-label\">***</span>\r\n              </h3>\r\n            </div>\r\n            <!-- v-on:click.prevent=\"postAccept(data.uuid)\" -->\r\n\r\n            <form v-on:submit.prevent=\"postAccept(uuid)\">\r\n              <div class=\"modal-body\">\r\n                <div>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"หมายเหตุ\"\r\n                    v-model=\"Manualannotation\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                <button type=\"submit\" class=\"btn btn-primary\">ยืนยัน</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- modal -->\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"viewSlip\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">ข้อมูลสลิป</h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <img :src=\"slipImg\" width=\"100%\" height=\"auto\" alt=\"\" />\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                ปิด\r\n              </button>\r\n              <!-- <button type=\"button\" class=\"btn btn-primary\">Save changes</button> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- modalapprove -->\r\n\r\n      <!-- end -->\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <audio id=\"myAudio\" hidden controls autoplay>\r\n        <source src=\"../../../assets/audio/withdraw.mp3\" type=\"audio/mpeg\" />\r\n        Your browser does not support the audio element.\r\n      </audio>\r\n\r\n      <!-- <button onclick=\"myFunction()\">Try it</button> -->\r\n\r\n      <!-- <p id=\"demo\"></p> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { baseURL } from \"../../../services/api\";\r\n\r\nimport swal from \"sweetalert\";\r\nimport Swal from \"sweetalert2\";\r\nimport managewithdrawService from \"@/services/managewithdrawService\";\r\nimport UserService from \"@/services/UserService\";\r\nimport bankService from \"@/services/bankService\";\r\nimport affiliateService from \"@/services/affiliateService\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment-timezone\";\r\nimport memberTransaction from \"@/services/memberTransaction.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      Manualannotation: \"\",\r\n      cIndex: [],\r\n      bankwithdraw: \"\",\r\n      amountwithdraw: \"\",\r\n      timewithdraw: \"\",\r\n      type: {\r\n        update: \"update\",\r\n        reset: \"reset\",\r\n        cancel: \"cancel\",\r\n      },\r\n      // buttonStatus:disable=true,\r\n      todaydate: \"\",\r\n      todaytime: \"\",\r\n      formA: {\r\n        annotationUpdate: \"\",\r\n      },\r\n      yesterdate: \"\",\r\n      yestertime: \"\",\r\n      todate: \"\",\r\n      totime: \"\",\r\n      showmodal: true,\r\n      bank: \"\",\r\n      username: \"\",\r\n      amount: \"\",\r\n      bonus_credit: \"\",\r\n      transaction_type: \"\",\r\n      credit_before: \"\",\r\n      credit_after: \"\",\r\n      create_by: \"\",\r\n      annotation: \"\",\r\n      ref: \"\",\r\n      transaction_status: \"\",\r\n      createdAt: \"\",\r\n      updatedAt: \"\",\r\n      formupdatestatus: {\r\n        annotation: \"\",\r\n        username: \"\",\r\n        uuid: \"\",\r\n        create_by: \"\",\r\n        amount: \"\",\r\n      },\r\n      withdrawpending: [],\r\n      withdrawbyuuid: [],\r\n      credit: \"\",\r\n      amountuuid: \"\",\r\n      usernameuuid: \"\",\r\n      form: {},\r\n      bankwithdrawnumber: \"\",\r\n      accountbank: [],\r\n      status: \"\",\r\n      status_all: \"\",\r\n      status_fail: \"Fail\",\r\n      status_create: \"Create\",\r\n      status_approve: \"Approve\",\r\n      status_process: \"Process\",\r\n      status_success: \"Success\",\r\n      status_otp: \"OTP\",\r\n      status_reject: \"Reject\",\r\n      status_manual: \"manual\",\r\n      slipImg: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    hrefTarget() {\r\n      return this.enabled ? \"_blank\" : \"_self\";\r\n    },\r\n  },\r\n  mounted() {\r\n    let x = document.getElementById(\"myAudio\");\r\n    x.pause();\r\n    this.yesterdate = moment().locale(\"th\").format(\"YYYY-MM-DD\");\r\n    this.totime = moment().locale(\"th\").format(\"00:00:00\");\r\n    this.todate = moment().locale(\"th\").format(\"YYYY-MM-DD\");\r\n    this.yestertime = moment().locale(\"th\").format(\"23:59:59\");\r\n    // this.playAudio();\r\n    this.pauseAudio();\r\n    this.getBankWithdraw();\r\n    this.getDataParam();\r\n    this.checkAuth();\r\n    this.getPersonReportParam();\r\n  },\r\n  methods: {\r\n    clickCallback(pageNum) {\r\n      console.log(pageNum);\r\n    },\r\n    passSlip(data) {\r\n      console.log(data.transaction_slip);\r\n      this.slipImg = data.transaction_slip;\r\n    },\r\n    async checkAuth() {\r\n      const res = await UserService.getProfile().catch(function (error) {\r\n        if (error.response.status === 401 || error.response.status === 500) {\r\n          const removeToken = localStorage.removeItem(\"access_token\");\r\n          if (removeToken == null) {\r\n            this.$router.push(\"/login\");\r\n          }\r\n        }\r\n      });\r\n      res.logout;\r\n    },\r\n\r\n    onChange(event) {\r\n      let data = event.target.value;\r\n      console.log(data);\r\n      // return (data = this.status);\r\n    },\r\n\r\n    async getDataParam() {\r\n      this.firstData = this.withdrawpending.length;\r\n      let status = this.status;\r\n      const username = this.username;\r\n      let s1 = moment().locale(\"th\").format(`${this.yesterdate}`);\r\n      let e1 = moment().locale(\"th\").format(`${this.todate}`);\r\n      let s2 = moment().locale(\"th\").format(`${this.yestertime}`);\r\n      let e2 = moment().locale(\"th\").format(`${this.totime}`);\r\n      const start_date = e1 + \"T\" + e2 + \"\";\r\n      const end_date = s1 + \"T\" + s2 + \"\";\r\n      await axios({\r\n        method: \"get\",\r\n\r\n        url: `${baseURL}/member_transaction/withdraw-pending-list?start_date=${start_date}&end_date=${end_date}&status=${status}&username=${username}`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n        },\r\n      })\r\n        .then((response) => {\r\n          // this.withdrawpending = [];\r\n          this.withdrawpending = response.data.data;\r\n          this.withdrawpending = response.data.data;\r\n          if (this.firstData < this.withdrawpending.length) {\r\n            let self = this;\r\n            self.playAudio();\r\n          }\r\n\r\n          let self = this;\r\n          setTimeout(async function () {\r\n            await self.getDataParam();\r\n          }, 1500);\r\n          let countLength = this.withdrawpending.length;\r\n          for (let countIndex = 0; countIndex < countLength; countIndex++) {\r\n            // const element = array[index];\r\n            // const allIndex\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    async getToday() {\r\n      // this.withdrawpending = [];\r\n      this.todaydate = moment().locale(\"th\").format(\"YYYY-MM-DDT\");\r\n      this.todaytime = moment().locale(\"th\").format(\"00:00:00\");\r\n      this.todaytime2 = moment().locale(\"th\").format(\"23:59:59\");\r\n      // const t = \"T\";\r\n      // const z = \"\";\r\n      const username = this.username;\r\n      const start_date = this.todaydate + this.todaytime + \"\";\r\n      const end_date = this.todaydate + this.todaytime2 + \"\";\r\n\r\n      await axios({\r\n        method: \"get\",\r\n        url: `${baseURL}/member_transaction/withdraw-pending-list?start_date=${start_date}&end_date=${end_date}&username=${username}&status=`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n        },\r\n      })\r\n        .then((response) => {\r\n          this.withdrawpending = response.data.data;\r\n          this.withdrawpending = response.data.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getYesterday() {\r\n      // this.withdrawpending = [];\r\n      let s1 = moment()\r\n        .subtract(1, \"days\")\r\n        .locale(\"th\")\r\n        .format(`${this.yesterdate}`);\r\n      let e1 = moment().locale(\"th\").format(\"00:00:00\");\r\n      let s2 = moment()\r\n        .subtract(1, \"days\")\r\n        .locale(\"th\")\r\n        .format(`${this.yestertime}`);\r\n      let e2 = moment().locale(\"th\").format(\"23:59:59\");\r\n      // this.todaydate = moment().subtract(1, \"days\").locale(\"th\").format(`${this.todate}`);\r\n\r\n      // this.todaytime2 = moment().locale(\"th\").format(\"23:59:59\");\r\n      // this.todaytime = moment().locale(\"th\").format(\"00:00:00\");\r\n      const t = \"T\";\r\n      // const z = \"\";\r\n      const username = this.username;\r\n      const start_date = s1 + t + e1;\r\n      const end_date = s2 + t + e2;\r\n\r\n      axios({\r\n        method: \"get\",\r\n        url: `${baseURL}/member_transaction/withdraw-pending-list?start_date=${start_date}&end_date=${end_date}&username=${username}&status=`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n        },\r\n      })\r\n        .then((response) => {\r\n          this.withdrawpending = response.data.data;\r\n          this.withdrawpending = response.data.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    // async getDataParam() {\r\n    //   let status =this.status;\r\n    //   // this.withdrawpending = \"\";\r\n    //   console.log(this.withdrawpending.length);\r\n    //   this.yesterdate = moment()\r\n    //     .locale(\"th\")\r\n    //     // .add(1, \"days\")\r\n    //     .format(\"YYYY-MM-DD\");\r\n    //   this.yestertime = moment().locale(\"th\").format(\"23:59:59\");\r\n    //   this.todate = moment().locale(\"th\").format(\"YYYY-MM-DD\");\r\n    //   this.totime = moment().locale(\"th\").format(\"00:00:00\");\r\n\r\n    //   this.thistime = moment;\r\n    //   // this.todaydate = moment().locale(\"th\").format(\"YYYY-MM-DD\");\r\n    //   // this.todaytime = moment().locale(\"th\").format(\"00:00:00\");\r\n    //   // this.todaytime2 = moment().locale(\"th\").format(\"23:59:59\");\r\n    //   // const t = \"T\";\r\n    //   // const z = \"\";\r\n    //   const username = this.username;\r\n    //   const end_date = this.yesterdate + \"T\" + this.yestertime + \"\";\r\n\r\n    //   const start_date = this.todate + \"T\" + this.totime + \"\";\r\n\r\n    //   self.res = await managewithdrawService.getDataParam(\r\n    //     start_date,\r\n    //     end_date,status,\r\n    //     username\r\n    //   );\r\n    //   this.withdrawpending = self.res.data;\r\n    //   this.withdrawpending = self.res.data;\r\n\r\n    //   let self = this;\r\n    //   setTimeout(async function () {\r\n    //     await self.getDataParam();\r\n    //   }, 15000);\r\n    // },\r\n    // async getShowWithdrawByUuid(uuid) {\r\n    // console.log(uuid);\r\n    // const res = await managewithdrawService.getWithdrawByUuid(uuid);\r\n    // this.withdrawbyuuid = res.data;\r\n    // this.amountuuid = res.data.withdraw.amount;\r\n    // this.credit = res.data.current_credit[0].balance;\r\n    // this.credit2 = this.credit | this.formatNumber;\r\n    // if (this.credit2 == 0) {\r\n    //   this.credit = \"0\";\r\n    // }\r\n\r\n    // this.usernameuuid = res.data.withdraw.username;\r\n    // },\r\n    checkClicked(uuid) {\r\n      // console.log(uuid);\r\n      // this.postAccept(uuid);\r\n      this.uuid = uuid;\r\n      // this.$confirm(\"ยืนยันการทำรายการ\").then(() => {\r\n      // });\r\n    },\r\n    notiWait() {\r\n      swal(\r\n        {\r\n          // cancel: true,\r\n          timer: 3000,\r\n          title: \"อนุมัติรายการแล้วกรุณาสักครู่\",\r\n          text: \"ระบบกำลังทำรายการ\",\r\n          icon: \"warning\",\r\n        }\r\n        // \"อนุมัติรายการแล้วกรุณาสักครู่ \",\r\n        // \"ระบบกำลังทำรายการ!\",\r\n        // \"warning\"\r\n      );\r\n    },\r\n    async postAccept(uuid) {\r\n      // console.log(uuid);\r\n\r\n      // const res = await managewithdrawService.getWithdrawByUuid(uuid);\r\n      // console.log(res);\r\n      const res1 = await UserService.getProfile();\r\n\r\n      this.postaccept = {\r\n        create_by: res1.data.info_name,\r\n        uuid: uuid,\r\n        annotation: this.Manualannotation,\r\n      };\r\n      // console.log(this.postaccept);\r\n\r\n      axios\r\n        .post(\r\n          baseURL + \"/member_transaction\" + \"/approved-withdraw\",\r\n          this.postaccept,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n            },\r\n          }\r\n        )\r\n\r\n        .then(() => {\r\n          window.$(\"#getShowWithdrawByUuid\").modal(\"hide\");\r\n          window.$(\".getShowWithdrawByUuid\").modal(\"hide\");\r\n          window.$(\".manualAnnotation\").modal(\"hide\");\r\n          window.$(\"#manualAnnotation\").modal(\"hide\");\r\n\r\n          this.$toast.success(\"อัพเดทรายการถอนมือเรียบร้อย\", {\r\n            position: \"top-right\",\r\n            timeout: 3000,\r\n          });\r\n        });\r\n    },\r\n    getClipboard() {\r\n      this.$toast.success(\"คัดลอก User สำเร็จแล้ว\", {\r\n        position: \"top-right\",\r\n        timeout: 1500,\r\n      });\r\n    },\r\n    getClipboardBank() {\r\n      this.$toast.info(\"คัดลอก เลขบัญชี สำเร็จแล้ว\", {\r\n        position: \"top-right\",\r\n        timeout: 1500,\r\n      });\r\n    },\r\n    async postApprove(data,index) {\r\n      // document.getElementById(\"postApprove\").disabled = true;\r\n      document.getElementById(\"postApprove\"+index).disabled = true;\r\n      // console.log(document.getElementById(\"postApprove\"+index).id);\r\n\r\n      let amount = parseInt(data.amount);\r\n      this.formapproveWA = {\r\n        uuid: data.uuid,\r\n        username: data.username.trim(),\r\n        amount: amount,\r\n        bank_name: data.member_account_banks[0].bank_name,\r\n        bank_number: data.member_account_banks[0].bank_number,\r\n      };\r\n      const res = await managewithdrawService.postapproveWithdrawAuto(\r\n        this.formapproveWA\r\n      );\r\n      // document.getElementById(\"postApprove\"[1]).disabled = true;\r\n\r\n      // document.getElementById(\"postApprove\").disabled = true;\r\n\r\n      if (res.statusWithdraw === \"wait OTP\") {\r\n        this.$toast.warning(\"รอ OTP\", {\r\n          position: \"top-right\",\r\n          timeout: 2000,\r\n        });\r\n      }\r\n      // document.getElementById(\"postApprove\").disabled = true;\r\n\r\n    },\r\n    checkClickedApprove() {\r\n      this.$confirm(\"ยืนยันการทำรายการ\").then(() => {\r\n        this.postApprove();\r\n      });\r\n    },\r\n    viewAnnotation(annotation) {\r\n      if (annotation === null || annotation === \"-\") {\r\n        annotation = \"ยังไม่มีข้อมูล\";\r\n      }\r\n      swal({ title: annotation, button: false });\r\n    },\r\n    viewSlip(transaction_slip) {\r\n      if (transaction_slip === null) {\r\n        transaction_slip = \"ยังไม่มีข้อมูล\";\r\n      }\r\n      swal({\r\n        icon: transaction_slip,\r\n        button: false,\r\n      });\r\n    },\r\n\r\n    async passUpdate(data, type) {\r\n      const resuser = await UserService.getProfile();\r\n      const create_by = resuser.data.info_name;\r\n      this.formupdatestatus = {\r\n        uuid: data.uuid,\r\n        type: type,\r\n        username: data.username,\r\n        amount: data.amount,\r\n        annotation: this.annotationUpdate,\r\n        create_by: create_by,\r\n      };\r\n    },\r\n    postUpdate() {\r\n      let timerInterval;\r\n        Swal.fire({\r\n          title: \"กรุณารอสักครู่\",\r\n          // text: \"ประมาณ 1 - 2 นาที\",\r\n          imageUrl: \"https://media3.giphy.com/media/12MhwQm8toOEp2/source.gif\",\r\n          imageWidth: 300,\r\n          imageHeight: 200,\r\n\r\n          html: \" ประมาน <b></b> นาที.\",\r\n          timer: 1357,\r\n          timerProgressBar: true,\r\n          showConfirmButton: false,\r\n          allowOutsideClick: false,\r\n\r\n          didOpen: () => {\r\n            Swal.showLoading();\r\n            timerInterval = setInterval(() => {\r\n              const content = Swal.getContent();\r\n              if (content) {\r\n                const b = content.querySelector(\"b\");\r\n                let ms = Swal.getTimerLeft();\r\n                let minutes = Math.floor(ms / 60000);\r\n                let seconds = ((ms % 60000) / 1000).toFixed(0);\r\n                if (b) {\r\n                  b.textContent = `${minutes}:${\r\n                    seconds < 10 ? \"0\" : \"\"\r\n                  }${seconds}`;\r\n                }\r\n              }\r\n            }, 1000);\r\n          },\r\n          willClose: () => {\r\n            clearInterval(timerInterval);\r\n          },\r\n        }).then(async (result) => {\r\n          /* Read more about handling dismissals below */\r\n          if (result.dismiss === Swal.DismissReason.timer) {\r\nthis.time =\"I was closed by the timer\";          }\r\n        });\r\n      window.$(\"#changeStatus\").modal(\"hide\");\r\n\r\n      const res = managewithdrawService.postUpdateStatus(this.formupdatestatus);\r\n      // this.$toast.warning(\"เปลี่ยนสถานะแล้ว\", {\r\n      //   position: \"top-right\",\r\n      //   timeout: 1500,\r\n      // });\r\n\r\n      res.data;\r\n    },\r\n    async getPersonReportParam() {\r\n      let s1 = moment().locale(\"th\").format(`${this.yesterdate}`);\r\n      let e1 = moment().locale(\"th\").format(`${this.todate}`);\r\n      let s2 = moment().locale(\"th\").format(`${this.yestertime}`);\r\n      let e2 = moment().locale(\"th\").format(`${this.totime}`);\r\n      const start_date = e1 + \"T\" + e2 + \"\";\r\n      const end_date = s1 + \"T\" + s2 + \"\";\r\n\r\n      const res = await axios({\r\n        method: \"get\",\r\n        url: `${baseURL}/report/person/?start_date=${start_date}&end_date=${end_date}`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n        },\r\n      });\r\n      this.amountwithdraw = res.data.sumperson.personWithdrawreaamount;\r\n      this.timewithdraw = res.data.sumperson.personWithdrawcount;\r\n    },\r\n    async getPersonReportYesterday() {\r\n      this.todaydate = moment()\r\n        .locale(\"th\")\r\n        .subtract(1, \"days\")\r\n        .format(\"YYYY-MM-DD\");\r\n      this.todaytime2 = moment().locale(\"th\").format(\"23:59:59\");\r\n      this.todaytime = moment().locale(\"th\").format(\"00:00:00\");\r\n      const t = \"T\";\r\n      const z = \"\";\r\n      // const username = this.username;\r\n      const start_date = this.todaydate + t + this.todaytime + z;\r\n      const end_date = this.todaydate + t + this.todaytime2 + z;\r\n\r\n      const res = await axios({\r\n        method: \"get\",\r\n        url: `${baseURL}/report/person/?start_date=${start_date}&end_date=${end_date}`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n        },\r\n      });\r\n\r\n      this.amountwithdraw = res.data.sumperson.personWithdrawreaamount;\r\n      this.timewithdraw = res.data.sumperson.personWithdrawcount;\r\n    },\r\n    async getPersonReportToday() {\r\n      this.todaydate = moment().locale(\"th\").format(\"YYYY-MM-DDT\");\r\n      this.todaytime = moment().locale(\"th\").format(\"00:00:00\");\r\n      this.todaytime2 = moment().locale(\"th\").format(\"23:59:59\");\r\n\r\n      const start_date = this.todaydate + this.todaytime + \"\";\r\n      const end_date = this.todaydate + this.todaytime2 + \"\";\r\n\r\n      const res = await axios({\r\n        method: \"get\",\r\n        url: `${baseURL}/report/person/?start_date=${start_date}&end_date=${end_date}`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n        },\r\n      });\r\n\r\n      this.amountwithdraw = res.data.sumperson.personWithdrawreaamount;\r\n      this.timewithdraw = res.data.sumperson.personWithdrawcount;\r\n    },\r\n    async getBankWithdraw() {\r\n      const res = await bankService.getBankAPI();\r\n      this.accountbank = res.data.data;\r\n\r\n      this.bankwithdrawnumber = res.data.data[0].bank_number;\r\n    },\r\n\r\n    pauseAudio() {\r\n      let x = document.getElementById(\"myAudio\");\r\n      x.pause();\r\n    },\r\n    playAudio() {\r\n      let audio = new Audio(require(\"./../../../assets/audio/withdraw.mp3\"));\r\n      audio.play();\r\n    },\r\n    async affiliateCancel() {\r\n      await affiliateService.getaffiliateCancel(this.formupdatestatus);\r\n      this.$toast.success(\"เปลี่ยนสถานะแล้ว\", {\r\n        position: \"top-right\",\r\n        timeout: 1500,\r\n        icon: true,\r\n        rtl: false,\r\n      });\r\n      window.$(\"#modalAffiliateCancel\").modal(\"hide\");\r\n    },\r\n    fnCancel(data) {\r\n      this.formupdatestatus.username = data.username;\r\n      this.formupdatestatus.uuid = data.uuid;\r\n    },\r\n    postRequeue() {\r\n      const res = memberTransaction.postReQueue();\r\n      res.post;\r\n    },\r\n\r\n    checkRequeue() {\r\n      this.$confirm(\"ท่านต้องการ Reset คิวการถอน ?\").then(() => {\r\n        this.postRequeue();\r\n      });\r\n    },\r\n\r\n    targetBlank(a) {\r\n      window.open(\"\" + a + \"\", \"_blank\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.no-drop {\r\n  cursor: no-drop;\r\n}\r\n</style>\r\n"]}]}