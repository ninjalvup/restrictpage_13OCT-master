{"remainingRequest":"/Users/thossaporn/Downloads/game/admin-web/node_modules/babel-loader/lib/index.js!/Users/thossaporn/Downloads/game/admin-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thossaporn/Downloads/game/admin-web/src/components/pages/report/report_affiliate/setting_affiliate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/thossaporn/Downloads/game/admin-web/src/components/pages/report/report_affiliate/setting_affiliate.vue","mtime":1630586390066},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/cache-loader/dist/cjs.js","mtime":1661273170805},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/babel-loader/lib/index.js","mtime":1661273171333},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/cache-loader/dist/cjs.js","mtime":1661273170805},{"path":"/Users/thossaporn/Downloads/game/admin-web/node_modules/vue-loader/lib/index.js","mtime":1661273161751}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90aG9zc2Fwb3JuL0Rvd25sb2Fkcy9nYW1lL2FkbWluLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhZmZpbGlhdGVTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvYWZmaWxpYXRlU2VydmljZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGJhc2VVUkwgfSBmcm9tICIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBwZXJjZW50OiAiIiwKICAgICAgICBhbW91bnQ6ICIiLAogICAgICAgIHByb21vdGlvbl90eXBlX2lkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YVNldHRpbmcoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGFTZXR0aW5nOiBmdW5jdGlvbiBnZXREYXRhU2V0dGluZygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHNldHRpbmc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYWZmaWxpYXRlU2VydmljZS5nZXREYXRhU2V0dGluZygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBzZXR0aW5nID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmZvcm0ucHJvbW90aW9uX3R5cGVfaWQgPSBzZXR0aW5nLmRhdGFbMF0ucHJvbW90aW9uOwogICAgICAgICAgICAgICAgX3RoaXMuZm9ybS5wZXJjZW50ID0gc2V0dGluZy5kYXRhWzBdLnBlcmNlbnRfdmFsdWU7CiAgICAgICAgICAgICAgICBfdGhpcy5mb3JtLmFtb3VudCA9IHNldHRpbmcuZGF0YVswXS5hbW91bnRfd2l0aGRyYXc7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbiB1cGRhdGVEYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KGJhc2VVUkwgKyAiL2FmZmlsaWF0ZS91cGRhdGUtcHJvbW90aW9uIiwgX3RoaXMyLmZvcm0sIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY2Vzc190b2tlbiIpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0LnN1Y2Nlc3MoIuC4leC4seC5ieC4h+C4hOC5iOC4siBBZmZpbGlhdGUg4Liq4Liz4LmA4Lij4LmH4LiIIiwgewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLXJpZ2h0IiwKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAxNTAwLAogICAgICAgICAgICAgICAgICAgIGljb246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcnRsOiBmYWxzZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgey8vUGVyZm9ybSBhY3Rpb24gaW4gYWx3YXlzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["setting_affiliate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,gBAAA,MAAA,6BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,OAAA,QAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,iBAAA,EAAA;AAHA;AADA,KAAA;AAOA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,cAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,gBAAA,CAAA,cAAA,EADA;;AAAA;AACA,gBAAA,OADA;AAEA,gBAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,GAAA,OAAA,CAAA,IAAA,CAAA,CAAA,EAAA,SAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,OAAA,GAAA,OAAA,CAAA,IAAA,CAAA,CAAA,EAAA,aAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,MAAA,GAAA,OAAA,CAAA,IAAA,CAAA,CAAA,EAAA,eAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KANA;AAOA,IAAA,UAPA,wBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CACA,IADA,CACA,OAAA,GAAA,6BADA,EACA,MAAA,CAAA,IADA,EACA;AACA,kBAAA,OAAA,EAAA;AACA,oCAAA,kBADA;AAEA,oBAAA,aAAA,EAAA,YAAA,YAAA,CAAA,OAAA,CAAA,cAAA;AAFA;AADA,iBADA,EAOA,IAPA,CAOA,YAAA;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,0BAAA,EAAA;AACA,oBAAA,QAAA,EAAA,WADA;AAEA,oBAAA,OAAA,EAAA,IAFA;AAGA,oBAAA,IAAA,EAAA,IAHA;AAIA,oBAAA,GAAA,EAAA;AAJA,mBAAA;AAMA,iBAdA,EAeA,OAfA,CAeA,YAAA,CACA;AACA,iBAjBA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AA1BA;AAbA,CAAA","sourcesContent":["<template>\r\n  <div id=\"setting-affiliate\">\r\n    <div class=\"page-inner\">\r\n      <div class=\"page-header\">\r\n        <h4 class=\"page-title\">\r\n          <i class=\"fas fa-users-cog\"></i> ตั้งค่าระบบ Affiliate\r\n        </h4>\r\n      </div>\r\n      <div class=\"col-md-12\" style=\"padding: 0px 0px 0px 0px\">\r\n        <!--tips: add .text-center,.text-right to the .card to change card text alignment-->\r\n        <div class=\"card-header bg-primary text-white\">\r\n          รายละเอียดการตั้งค่าส่วนแบ่ง\r\n        </div>\r\n        <div class=\"card card-body\">\r\n          <form v-on:submit.prevent=\"updateData\">\r\n            <!-- <div class=\"form-group\">\r\n              <label>ตั้งค่า Affiliate</label>\r\n              <select\r\n                name=\"promotion_type_id\"\r\n                class=\"form-control\"\r\n                v-model=\"form.promotion_type_id\"\r\n                disabled\r\n              >\r\n                <option value=\"1\">ทุกยอดได้เสียของเพื่อน</option>\r\n              </select>\r\n            </div> -->\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"first_deposit\">เปอร์เซ็นต์จากยอด Turn Over(%)</label>\r\n              <input\r\n                type=\"number\"\r\n                class=\"form-control\"\r\n                max=\"100\"\r\n                name=\"percent\"\r\n                v-model=\"form.percent\"\r\n                required\r\n              />\r\n              <small class=\"text-danger\">**เช่น 20 % ให้กรอก 20 </small>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label for=\"second_deposit\">จำนวนเงินที่อนุมัติให้ถอน</label>\r\n              <input\r\n                type=\"number\"\r\n                class=\"form-control\"\r\n                name=\"amount\"\r\n                v-model=\"form.amount\"\r\n                required\r\n              />\r\n              <small class=\"text-danger\">**เช่น 1000 ให้กรอก 1000 </small>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-success\">ตกลง</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport affiliateService from \"@/services/affiliateService\";\r\nimport axios from \"axios\";\r\nimport { baseURL } from \"../../../../services/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        percent: \"\",\r\n        amount: \"\",\r\n        promotion_type_id: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getDataSetting();\r\n  },\r\n  methods: {\r\n    async getDataSetting() {\r\n      const setting = await affiliateService.getDataSetting();\r\n      this.form.promotion_type_id = setting.data[0].promotion;\r\n      this.form.percent = setting.data[0].percent_value;\r\n      this.form.amount = setting.data[0].amount_withdraw;\r\n    },\r\n    async updateData() {\r\n      axios\r\n        .post(baseURL + \"/affiliate/update-promotion\", this.form, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"access_token\"),\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.$toast.success(\"ตั้งค่า Affiliate สำเร็จ\", {\r\n            position: \"top-right\",\r\n            timeout: 1500,\r\n            icon: true,\r\n            rtl: false,\r\n          });\r\n        })\r\n        .finally(() => {\r\n          //Perform action in always\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"sourceRoot":"src/components/pages/report/report_affiliate"}]}