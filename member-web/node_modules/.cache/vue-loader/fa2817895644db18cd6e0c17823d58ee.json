{"remainingRequest":"/Users/thossaporn/Downloads/game/member-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thossaporn/Downloads/game/member-web/src/components/pages/login.vue?vue&type=style&index=0&id=6840687e&scoped=true&lang=css&","dependencies":[{"path":"/Users/thossaporn/Downloads/game/member-web/src/components/pages/login.vue","mtime":1656752110000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/css-loader/dist/cjs.js","mtime":1656322784000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1656322790000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/postcss-loader/src/index.js","mtime":1656322786000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/cache-loader/dist/cjs.js","mtime":1656322782000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/vue-loader/lib/index.js","mtime":1656322788000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmJ0bi1ncmFkaWVudCB7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgyNzBkZWcsICMwMWIzZDcsICMwMTdmZDcpOw0KICBib3JkZXItd2lkdGg6IDA7DQogIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7DQp9DQouZm9ybS1jb250cm9sIHsNCiAgZGlzcGxheTogYmxvY2s7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IGNhbGMoMS41ZW0gKyAwLjc1cmVtICsgMnB4KTsNCiAgcGFkZGluZzogMC4zNzVyZW0gMC43NXJlbTsNCiAgZm9udC1zaXplOiAxcmVtOw0KICBmb250LXdlaWdodDogNDAwOw0KICBsaW5lLWhlaWdodDogMS41Ow0KICBjb2xvcjogIzAwMDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCiAgYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTsNCiAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTsNCiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0Ow0KICBoZWlnaHQ6IDQwcHg7DQogIGJveC1zaGFkb3c6IDAgMXB4IDRweCAwIHJnYigwIDAgMCAvIDIwJSk7DQogIGJvcmRlcjogMXB4IHNvbGlkICNkOGQ4ZDg7DQogIC1tb3otYm94LXNoYWRvdzogMCAxcHggNHB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDRweCAwIHJnYigwIDAgMCAvIDIwJSk7DQp9DQoudGV4dC1mYXN0LWF1dG8gew0KDQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KKiB7DQogIGNvbG9yOiAjMDAwOw0KICBmb250LXdlaWdodDogNzAwICFpbXBvcnRhbnQ7DQp9DQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"row mt-5\">\r\n      <div class=\"col-sm-9 col-md-7 col-lg-5 mx-auto\">\r\n        <div class=\"text-center mb-4\">\r\n          <img v-bind:src=\"logo\" class=\"rounded\" alt=\"...\" width=\"50%\" />\r\n          <!-- <div v-if=\"logo ==path\" >asd</div> -->\r\n        </div>\r\n        <!-- <div class=\"text-center\">\r\n          <div class=\"logo\">\r\n            <img v-bind:src=\"logo\" width=\"80%\" />\r\n          </div>\r\n        </div> -->\r\n        <div class=\"card-signin my-5 rounded\"\r\n                    style=\"\r\n              background-image: url(assets/images/custom/bg-menu.png);\r\n              background-size: cover;\r\n              background-repeat: no-repeat;\r\n              position: relative;\r\n              background-position: center;\r\n            \">\r\n          <div class=\"card-body mb-3 mt-3 p-5\">\r\n            <h6 class=\"text-fast-auto text-center\">เข้าสู่ระบบ</h6>\r\n            <!-- <h5 class=\"card-title text-center\">Payment Auto </h5> -->\r\n            <form v-on:submit.prevent=\"login\">\r\n              <div class=\"form-label-group\">\r\n                <label for=\"inputTel\">เบอร์โทร</label>\r\n                <span class=\"mb-3\" style=\"color: red\"> {{ text }}</span>\r\n                <input\r\n                  v-model=\"tel\"\r\n                  type=\"tel\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"กรุณากรอกเบอร์มือถือ\"\r\n                  minlength=\"8\"\r\n                  maxlength=\"10\"\r\n                  oninvalid=\"this.setCustomValidity('กรุณากรอกหมายเลขโทรศัพท์ให้ครบ 10 หลัก')\"\r\n                />\r\n              </div>\r\n              <div class=\"form-label-group mt-2\">\r\n                <label for=\"inputPassword\">รหัสผ่าน</label>\r\n                <input\r\n                  v-model=\"password\"\r\n                  type=\"password\"\r\n                  id=\"inputPassword\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"กรุณากรอกรหัสผ่าน\"\r\n                  autocomplete=\"off\"\r\n                  required\r\n                  oninvalid=\"this.setCustomValidity('กรุณากรอกหมายเลขโทรศัพท์ให้ครบ')\"\r\n                />\r\n              </div>\r\n              <div class=\"justify-content-center pt-3\">\r\n                <button\r\n                  type=\"submit\"\r\n                  value=\"Login\"\r\n                  class=\"btn btn-gradient w-100\"\r\n                >\r\n                  <i class=\"fas fa-sign-in-alt fa-lg mr-2\"></i>เข้าสู่ระบบ\r\n                </button>\r\n              </div>\r\n\r\n              <div class=\"\">\r\n                <span>\r\n                  <router-link to=\"/forgotpassword\">\r\n                    <a class=\"float-right mt-2 mr-3\"\r\n                      >ลืมรหัสผ่าน ?</a\r\n                    ></router-link\r\n                  >\r\n                </span>\r\n              </div>\r\n              <hr class=\"mt-5\" />\r\n              <button\r\n                @click=\"routerRegister\"\r\n                class=\"btn btn btn-gradient w-100\"\r\n              >\r\n                <i class=\"fas fa-user-plus fa-lg mr-2\"></i> สมัครสมาชิก\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { required, minLength } from \"vuelidate/lib/validators\";\r\nimport authService from \"@/services/authService.js\";\r\nimport axios from \"axios\";\r\nimport { baseURL, path } from \"../../services/api\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tel: \"\",\r\n      password: \"\",\r\n      msg: \"\",\r\n      text: \"\",\r\n      logo: \"\",\r\n      path: \"\",\r\n      emailBlured: false,\r\n      valid: false,\r\n      submitted: false,\r\n    };\r\n  },\r\n\r\n  // validations: {\r\n  //   tel: {\r\n  //     required,\r\n  //     minLength: minLength(10),\r\n  //   },108\r\n  //   password: {\r\n  //     required,\r\n  //     minLength: minLength(8),\r\n  //   },\r\n  // },\r\n\r\n  mounted() {\r\n    this.path = path + \"admin/images/\";\r\n    console.log(path);\r\n    //ดึงภาพโลโก้\r\n    axios({\r\n      method: \"get\",\r\n      url: baseURL + \"/photo/prefix\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access_token\"),\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        console.log(response.data.data.prefix[0].logo);\r\n        this.logo = response.data.data.prefix[0].logo;\r\n        let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(this.logo);\r\n        if (regx === false) {\r\n          console.log(\"if\");\r\n          this.logo = require(\"../../../public/assets/images/Logo.png\");\r\n        } else {\r\n          console.log(\"elde\");\r\n          this.logo = response.data.data.prefix[0].logo;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  },\r\n\r\n  methods: {\r\n    routerRegister() {\r\n      this.$router.push(\"/register\");\r\n    },\r\n    //เข้าสู่ระบบ\r\n    async login() {\r\n      try {\r\n        const loginForm = {\r\n          tel: this.tel,\r\n          password: this.password,\r\n        };\r\n        const resp = await authService.loginAdmin(loginForm);\r\n        if (resp.success == true) {\r\n          this.$toast.success(\"เข้าสู่ระบบเรียบร้อยแล้ว\", {\r\n            position: \"top-right\",\r\n            timeout: 1500,\r\n          });\r\n          sessionStorage.setItem(\"access_token\", resp.access_token);\r\n          this.$router.push(\"/home\");\r\n\r\n          setTimeout(function() {\r\n            location.reload();\r\n          }, 500);\r\n        }\r\n      } catch (error) {\r\n        this.$toast.error(error.response.data.error.message, {\r\n          position: \"top-right\",\r\n          timeout: 1500,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn-gradient {\r\n  background-image: linear-gradient(270deg, #01b3d7, #017fd7);\r\n  border-width: 0;\r\n  color: #fff !important;\r\n}\r\n.form-control {\r\n  display: block;\r\n  width: 100%;\r\n  height: calc(1.5em + 0.75rem + 2px);\r\n  padding: 0.375rem 0.75rem;\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  color: #000;\r\n  background-color: #fff;\r\n  background-clip: padding-box;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 0.25rem;\r\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  height: 40px;\r\n  box-shadow: 0 1px 4px 0 rgb(0 0 0 / 20%);\r\n  border: 1px solid #d8d8d8;\r\n  -moz-box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);\r\n  -webkit-box-shadow: 0 1px 4px 0 rgb(0 0 0 / 20%);\r\n}\r\n.text-fast-auto {\r\n\r\n  font-weight: bold;\r\n}\r\n* {\r\n  color: #000;\r\n  font-weight: 700 !important;\r\n}\r\n</style>\r\n<style>\r\nbody {\r\n  background-position: center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-attachment: fixed;\r\n  /* background-image: url(\"../../../public/assets/images/input.jpg\"); */\r\n}\r\n\r\n</style>\r\n"]}]}