{"remainingRequest":"/Users/thossaporn/Downloads/game/member-web/node_modules/babel-loader/lib/index.js!/Users/thossaporn/Downloads/game/member-web/node_modules/eslint-loader/index.js??ref--14-0!/Users/thossaporn/Downloads/game/member-web/src/services/testOTP.js","dependencies":[{"path":"/Users/thossaporn/Downloads/game/member-web/src/services/testOTP.js","mtime":1660403305647},{"path":"/Users/thossaporn/Downloads/game/member-web/babel.config.js","mtime":1629947196000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/cache-loader/dist/cjs.js","mtime":1656322782000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/babel-loader/lib/index.js","mtime":1656322786000},{"path":"/Users/thossaporn/Downloads/game/member-web/node_modules/eslint-loader/index.js","mtime":1656322784000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CgovLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwovLyBpbXBvcnQgeyBiYXNlVVJMIH0gZnJvbSAnLi9hcGknOwovLyBleHBvcnQgZGVmYXVsdCB7Ci8vICAgLy9sb2dpbiBhdXRvCi8vICAgZ2V0T1RQKG90cFJlcSl7Ci8vICAgICByZXR1cm4gYXhpb3MKLy8gICAgICAgLnBvc3QoYmFzZVVSTCArICcvbWVtYmVyL3JlZ2lzdGVyJyAsXG90cFJlcSwgewovLyAgICAgICAgIGhlYWRlcnM6IHsKLy8gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKLy8gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKQovLyAgICAgICAgfQovLyAgICAgIH0pCi8vICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmRhdGEpOwovLyAgIH0sCi8vIH07Ci8vIGNvbnN0IGFjY291bnRTaWQgPSAnVkFlMWQ5NzQxOWVhOGJlYmQ0OWFmZTI3OWJmZjlhMDhlNSc7IC8vIFlvdXIgQWNjb3VudCBTSUQgZnJvbSB3d3cudHdpbGlvLmNvbS9jb25zb2xlCi8vIGNvbnN0IGF1dGhUb2tlbiA9ICdiMjlhMzE4MTRiZjVjMTM3OTNlNmZiMmU5NDFkMTU4YSc7IC8vIFlvdXIgQXV0aCBUb2tlbiBmcm9tIHd3dy50d2lsaW8uY29tL2NvbnNvbGUKLy8gY29uc3QgdHdpbGlvID0gcmVxdWlyZSgndHdpbGlvJyk7Ci8vIGNvbnN0IGNsaWVudCA9IG5ldyB0d2lsaW8oYWNjb3VudFNpZCwgYXV0aFRva2VuKTsKZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgZnVuY3Rpb24gKGNvbnRleHQsIGV2ZW50LCBjYWxsYmFjaykgewogIC8vIGNvbnN0IHJlc3BvbnNlID0gbmV3IHR3aWxpby5SZXNwb25zZSgpOwogIC8vIHJlc3BvbnNlLmFwcGVuZEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKCiAgLyoKICAgKiB1bmNvbW1lbnQgdG8gc3VwcG9ydCBDT1JTCiAgICogcmVzcG9uc2UuYXBwZW5kSGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpOwogICAqIHJlc3BvbnNlLmFwcGVuZEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdQT1NULCBPUFRJT05TJyk7CiAgICogcmVzcG9uc2UuYXBwZW5kSGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ0NvbnRlbnQtVHlwZScpOwogICAqLwogIHRyeSB7CiAgICBpZiAodHlwZW9mIGV2ZW50LnRvID09PSAndW5kZWZpbmVkJyB8fCBldmVudC50by50cmltKCkgPT09ICcnKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiTWlzc2luZyAndG8nIHBhcmFtZXRlcjsgcGxlYXNlIHByb3ZpZGUgYSBwaG9uZSBudW1iZXIgb3IgZW1haWwuIik7CiAgICB9CiAgICAvKgogICAgICogREVMRVRFIFRISVMgQkxPQ0sgSUYgWU9VIFdBTlQgVE8gRU5BQkxFIFRIRSBWT0lDRSBDSEFOTkVMCiAgICAgKiBMZWFybiBtb3JlIGFib3V0IHRvbGwgZnJhdWQKICAgICAqIGh0dHBzOi8vd3d3LnR3aWxpby5jb20vZG9jcy92ZXJpZnkvcHJldmVudGluZy10b2xsLWZyYXVkCiAgICAgKi8KCgogICAgaWYgKGV2ZW50LmNoYW5uZWwgPT09ICdjYWxsJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxzIGRpc2FibGVkIGJ5IGRlZmF1bHQuIFVwZGF0ZSB0aGUgY29kZSBpbiA8Y29kZT5zdGFydC12ZXJpZnkuanM8L2NvZGU+IHRvIGVuYWJsZS4nKTsKICAgIH0KCiAgICBjb25zdCBjbGllbnQgPSBjb250ZXh0LmdldFR3aWxpb0NsaWVudCgpOyAvLyBjb25zdCBzZXJ2aWNlID0gY29udGV4dC5WRVJJRllfU0VSVklDRV9TSUQ7CgogICAgY29uc3Qgc2VydmljZSA9ICJTSzZlYTExMTU3N2JlZDIwZDYzNjUzYThlNTJmNGU2NjU4IjsKICAgIGNvbnN0IHsKICAgICAgdG8KICAgIH0gPSBldmVudDsKICAgIGNvbnN0IGNoYW5uZWwgPSB0eXBlb2YgZXZlbnQuY2hhbm5lbCA9PT0gJ3VuZGVmaW5lZCcgPyAnc21zJyA6IGV2ZW50LmNoYW5uZWw7CiAgICBjb25zdCBsb2NhbGUgPSB0eXBlb2YgZXZlbnQubG9jYWxlID09PSAndW5kZWZpbmVkJyA/ICdlbicgOiBldmVudC5sb2NhbGU7CiAgICBjb25zdCB2ZXJpZmljYXRpb24gPSBhd2FpdCBjbGllbnQudmVyaWZ5LnNlcnZpY2VzKHNlcnZpY2UpLnZlcmlmaWNhdGlvbnMuY3JlYXRlKHsKICAgICAgdG8sCiAgICAgIGNoYW5uZWwsCiAgICAgIGxvY2FsZQogICAgfSk7CiAgICBjb25zb2xlLmxvZyhgU2VudCB2ZXJpZmljYXRpb246ICcke3ZlcmlmaWNhdGlvbi5zaWR9J2ApOwogICAgcmVzcG9uc2Uuc2V0U3RhdHVzQ29kZSgyMDApOwogICAgcmVzcG9uc2Uuc2V0Qm9keSh7CiAgICAgIHN1Y2Nlc3M6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc3Qgc3RhdHVzQ29kZSA9IGVycm9yLnN0YXR1cyB8fCA0MDA7CiAgICByZXNwb25zZS5zZXRTdGF0dXNDb2RlKHN0YXR1c0NvZGUpOwogICAgcmVzcG9uc2Uuc2V0Qm9keSh7CiAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICBlcnJvcjogZXJyb3IubWVzc2FnZQogICAgfSk7CiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UpOwogIH0KfTs="},{"version":3,"names":["exports","handler","context","event","callback","to","trim","Error","channel","client","getTwilioClient","service","locale","verification","verify","services","verifications","create","console","log","sid","response","setStatusCode","setBody","success","error","statusCode","status","message"],"sources":["/Users/thossaporn/Downloads/game/member-web/src/services/testOTP.js"],"sourcesContent":["// import axios from 'axios';\n// import { baseURL } from './api';\n// export default {\n//   //login auto\n//   getOTP(otpReq){\n//     return axios\n//       .post(baseURL + '/member/register' ,\\otpReq, {\n//         headers: {\n//          'Content-Type': 'application/json',\n//          'Authorization': 'Bearer ' + sessionStorage.getItem('access_token')\n//        }\n//      })\n//       .then(response => response.data);\n//   },\n// };\n// const accountSid = 'VAe1d97419ea8bebd49afe279bff9a08e5'; // Your Account SID from www.twilio.com/console\n// const authToken = 'b29a31814bf5c13793e6fb2e941d158a'; // Your Auth Token from www.twilio.com/console\n\n// const twilio = require('twilio');\n// const client = new twilio(accountSid, authToken);\n\nexports.handler = async function (context, event, callback) {\n    // const response = new twilio.Response();\n    // response.appendHeader('Content-Type', 'application/json');\n  \n    /*\n     * uncomment to support CORS\n     * response.appendHeader('Access-Control-Allow-Origin', '*');\n     * response.appendHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');\n     * response.appendHeader('Access-Control-Allow-Headers', 'Content-Type');\n     */\n  \n    try {\n      if (typeof event.to === 'undefined' || event.to.trim() === '') {\n        throw new Error(\n          \"Missing 'to' parameter; please provide a phone number or email.\"\n        );\n      }\n  \n      /*\n       * DELETE THIS BLOCK IF YOU WANT TO ENABLE THE VOICE CHANNEL\n       * Learn more about toll fraud\n       * https://www.twilio.com/docs/verify/preventing-toll-fraud\n       */\n      if (event.channel === 'call') {\n        throw new Error(\n          'Calls disabled by default. Update the code in <code>start-verify.js</code> to enable.'\n        );\n      }\n  \n      const client = context.getTwilioClient();\n      // const service = context.VERIFY_SERVICE_SID;\n      const service =\"SK6ea111577bed20d63653a8e52f4e6658\";\n      const { to } = event;\n      const channel =\n        typeof event.channel === 'undefined' ? 'sms' : event.channel;\n      const locale = typeof event.locale === 'undefined' ? 'en' : event.locale;\n  \n      const verification = await client.verify\n        .services(service)\n        .verifications.create({\n          to,\n          channel,\n          locale,\n        });\n  \n      console.log(`Sent verification: '${verification.sid}'`);\n      response.setStatusCode(200);\n      response.setBody({ success: true });\n      return callback(null, response);\n    } catch (error) {\n      const statusCode = error.status || 400;\n      response.setStatusCode(statusCode);\n      response.setBody({\n        success: false,\n        error: error.message,\n      });\n      return callback(null, response);\n    }\n  };\n\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEAA,OAAO,CAACC,OAAR,GAAkB,gBAAgBC,OAAhB,EAAyBC,KAAzB,EAAgCC,QAAhC,EAA0C;EACxD;EACA;;EAEA;AACJ;AACA;AACA;AACA;AACA;EAEI,IAAI;IACF,IAAI,OAAOD,KAAK,CAACE,EAAb,KAAoB,WAApB,IAAmCF,KAAK,CAACE,EAAN,CAASC,IAAT,OAAoB,EAA3D,EAA+D;MAC7D,MAAM,IAAIC,KAAJ,CACJ,iEADI,CAAN;IAGD;IAED;AACN;AACA;AACA;AACA;;;IACM,IAAIJ,KAAK,CAACK,OAAN,KAAkB,MAAtB,EAA8B;MAC5B,MAAM,IAAID,KAAJ,CACJ,uFADI,CAAN;IAGD;;IAED,MAAME,MAAM,GAAGP,OAAO,CAACQ,eAAR,EAAf,CAlBE,CAmBF;;IACA,MAAMC,OAAO,GAAE,oCAAf;IACA,MAAM;MAAEN;IAAF,IAASF,KAAf;IACA,MAAMK,OAAO,GACX,OAAOL,KAAK,CAACK,OAAb,KAAyB,WAAzB,GAAuC,KAAvC,GAA+CL,KAAK,CAACK,OADvD;IAEA,MAAMI,MAAM,GAAG,OAAOT,KAAK,CAACS,MAAb,KAAwB,WAAxB,GAAsC,IAAtC,GAA6CT,KAAK,CAACS,MAAlE;IAEA,MAAMC,YAAY,GAAG,MAAMJ,MAAM,CAACK,MAAP,CACxBC,QADwB,CACfJ,OADe,EAExBK,aAFwB,CAEVC,MAFU,CAEH;MACpBZ,EADoB;MAEpBG,OAFoB;MAGpBI;IAHoB,CAFG,CAA3B;IAQAM,OAAO,CAACC,GAAR,CAAa,uBAAsBN,YAAY,CAACO,GAAI,GAApD;IACAC,QAAQ,CAACC,aAAT,CAAuB,GAAvB;IACAD,QAAQ,CAACE,OAAT,CAAiB;MAAEC,OAAO,EAAE;IAAX,CAAjB;IACA,OAAOpB,QAAQ,CAAC,IAAD,EAAOiB,QAAP,CAAf;EACD,CAtCD,CAsCE,OAAOI,KAAP,EAAc;IACd,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAN,IAAgB,GAAnC;IACAN,QAAQ,CAACC,aAAT,CAAuBI,UAAvB;IACAL,QAAQ,CAACE,OAAT,CAAiB;MACfC,OAAO,EAAE,KADM;MAEfC,KAAK,EAAEA,KAAK,CAACG;IAFE,CAAjB;IAIA,OAAOxB,QAAQ,CAAC,IAAD,EAAOiB,QAAP,CAAf;EACD;AACF,CA1DH"}]}